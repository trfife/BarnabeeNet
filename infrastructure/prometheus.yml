# Prometheus configuration for BarnabeeNet
# Scrapes metrics from BarnabeeNet API

global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  # BarnabeeNet API metrics
  - job_name: "barnabeenet"
    static_configs:
      # VM deployment (main)
      - targets: ["host.containers.internal:8000"]
        labels:
          instance: "vm"
      # Local development (optional)
      - targets: ["192.168.86.61:8000"]
        labels:
          instance: "dev"
    metrics_path: /metrics
    scrape_interval: 10s
    scrape_timeout: 5s

  # GPU Worker metrics (if exposed)
  - job_name: "gpu-worker"
    static_configs:
      - targets: ["192.168.86.61:8001"]
        labels:
          instance: "gpu"
    metrics_path: /metrics
    scrape_interval: 30s
    scrape_timeout: 10s

  # Prometheus self-monitoring
  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]
